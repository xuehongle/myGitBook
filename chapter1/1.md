# 程序启动原理

---

Unix演变成了两个版本，一个是Linux，一个是BSD，Android是在Linux基础上编写而成，而IOS则是建立在BSD的基础上。

手机开机后，会启动Launcher，从AppStore下载或通过其他方式安装的程序，会通过info.plist（我猜的）的信息注册到系统，进而展现在Launcher上，根据使用者权限的不同，没越狱\(Android是root权限\)的手机，不能删除一些自带的app.

点击Launcher上的app图标，程序启动。

![](/assets/1430021-c2e42dfc1be91ed9.jpg)

ios入口函数为main函数。

Swift

```
@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {
}
```

OC

```
int main(int argc, char * argv[]) {  @autoreleasepool {  
      return UIApplicationMain(argc, argv, nil, NSStringFromClass([XYZAppDelegate class]));    
} }
```

UIApplicationMain 函数解释：

1.argc和argv参数是为了与C语言保持一致，在这没用到，不详述。

2.后面两个参数为principalClassName\(主要类名\)和delegateClassName\(委托类名\)。

　　\(1\)如果principalClassName是nil，那么它的值将从Info.plist中获取，如果Info.plist中没有，则默认为UIApplication。UIApplication会开启主线程的Runloop,保证程序不退出。

　　\(2\)delegateClass将在工程新建时实例化一个对象。NSStringFromClass\(\[AppDelegate class\]\) //相当于@"AppDelegate"

